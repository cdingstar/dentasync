<!-- å¤´éƒ¨ç»„ä»¶ -->
<div class="header">
    <div class="company-info" onclick="toggleCompanySelector()">
        <div class="company-logo">ğŸ¦·</div>
        <div class="company-name" id="current-company">Premium Dental Services Pte. Ltd.</div>
        <div class="dropdown-arrow">â–¼</div>
    </div>
    <div class="header-actions">
        <div class="header-icon">ğŸ”</div>
        <div class="header-icon">ğŸ§</div>
    </div>
</div>

<!-- æœºæ„é€‰æ‹©ä¸‹æ‹‰èœå• -->
<div class="company-selector" id="company-selector">
    <div class="selector-header">é€‰æ‹©æœºæ„</div>
    <div class="company-list">
        <div class="company-item active" data-company="premium" onclick="selectCompany('premium')">
            <div class="company-item-logo">ğŸ¦·</div>
            <div class="company-item-info">
                <div class="company-item-name">Premium Dental Services Pte. Ltd.</div>
                <div class="company-item-desc">é«˜ç«¯ç‰™ç§‘åŒ»ç–—æœåŠ¡æœºæ„</div>
            </div>
            <div class="company-item-check">âœ“</div>
        </div>
        
        <div class="company-item" data-company="dentalcare" onclick="selectCompany('dentalcare')">
            <div class="company-item-logo">ğŸ¥</div>
            <div class="company-item-info">
                <div class="company-item-name">DENTAL CARE CENTER</div>
                <div class="company-item-desc">ä¸“ä¸šç‰™ç§‘è¯Šç–—ä¸­å¿ƒ</div>
            </div>
            <div class="company-item-check">âœ“</div>
        </div>
        
        <div class="company-item" data-company="smileclinic" onclick="selectCompany('smileclinic')">
            <div class="company-item-logo">ğŸ©º</div>
            <div class="company-item-info">
                <div class="company-item-name">SMILE CLINIC GROUP</div>
                <div class="company-item-desc">å¾®ç¬‘ç‰™ç§‘è¿é”æœºæ„</div>
            </div>
            <div class="company-item-check">âœ“</div>
        </div>
        
        <div class="company-item" data-company="orthodontics" onclick="selectCompany('orthodontics')">
            <div class="company-item-logo">âš•ï¸</div>
            <div class="company-item-info">
                <div class="company-item-name">ORTHODONTICS PLUS</div>
                <div class="company-item-desc">æ­£ç•¸ä¸“ç§‘åŒ»ç–—æœºæ„</div>
            </div>
            <div class="company-item-check">âœ“</div>
        </div>
    </div>
</div>

<!-- é®ç½©å±‚ -->
<div class="overlay" id="overlay" onclick="closeCompanySelector()"></div>

<style>
/* å¤´éƒ¨åŒºåŸŸæ ·å¼ */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: linear-gradient(135deg, #1a237e 0%, #3949ab 50%, #5c6bc0 100%);
    color: white;
    position: relative;
    box-shadow: 0 2px 10px rgba(26, 35, 126, 0.3);
}

.header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
}

.header::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.2), transparent);
}

.company-info {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    padding: 8px 12px;
    border-radius: 8px;
    transition: background 0.3s;
    position: relative;
    margin-left: -8px;
}

.company-info:hover {
    background: rgba(255, 255, 255, 0.15);
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.1);
}

.company-logo {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.15) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.company-name {
    font-size: 14px;
    font-weight: 500;
}

.dropdown-arrow {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
    transition: transform 0.3s;
    margin-left: 4px;
}

.company-info.active .dropdown-arrow {
    transform: rotate(180deg);
}

.header-actions {
    display: flex;
    gap: 15px;
}

.header-icon {
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.15) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.header-icon:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.35) 0%, rgba(255, 255, 255, 0.25) 100%);
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

/* æœºæ„é€‰æ‹©å™¨æ ·å¼ */
.company-selector {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: white;
    z-index: 2000;
    transform: translateY(100%);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    max-width: 414px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
}

.company-selector.show {
    transform: translateY(0);
}

.selector-header {
    padding: 20px;
    background: linear-gradient(135deg, #1a237e 0%, #3949ab 50%, #5c6bc0 100%);
    color: white;
    font-size: 18px;
    font-weight: 600;
    text-align: center;
    position: relative;
    box-shadow: 0 2px 10px rgba(26, 35, 126, 0.3);
}

.selector-header::after {
    content: 'Ã—';
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 24px;
    cursor: pointer;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background 0.3s;
}

.selector-header::after:hover {
    background: rgba(255, 255, 255, 0.2);
}

.company-list {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
}

.company-item {
    display: flex;
    align-items: center;
    padding: 16px;
    border-radius: 12px;
    margin-bottom: 12px;
    cursor: pointer;
    transition: all 0.3s;
    border: 2px solid transparent;
    background: #f8f9fa;
}

.company-item:hover {
    background: #e3f2fd;
    transform: translateX(4px);
}

.company-item.active {
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-color: #2196f3;
    box-shadow: 0 4px 12px rgba(33, 150, 243, 0.2);
}

.company-item-logo {
    width: 48px;
    height: 48px;
    background: white;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-right: 16px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.company-item-info {
    flex: 1;
}

.company-item-name {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    margin-bottom: 4px;
}

.company-item-desc {
    font-size: 14px;
    color: #666;
}

.company-item-check {
    font-size: 20px;
    color: #2196f3;
    opacity: 0;
    transition: opacity 0.3s;
}

.company-item.active .company-item-check {
    opacity: 1;
}

/* é®ç½©å±‚ */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1500;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s;
}

.overlay.show {
    opacity: 1;
    visibility: visible;
}
</style>

<script>
// æœºæ„æ•°æ®
const companies = {
    premium: {
        name: 'Premium Dental Services Pte. Ltd.',
        logo: 'ğŸ¦·',
        desc: 'é«˜ç«¯ç‰™ç§‘åŒ»ç–—æœåŠ¡æœºæ„'
    },
    asiantech: {
        name: 'ASIANTECH PTE. LTD.',
        logo: 'ğŸ¦·',
        desc: 'æ–°åŠ å¡ç‰™ç§‘æŠ€æœ¯å…¬å¸'
    },
    dentalcare: {
        name: 'DENTAL CARE CENTER',
        logo: 'ğŸ¥',
        desc: 'ä¸“ä¸šç‰™ç§‘è¯Šç–—ä¸­å¿ƒ'
    },
    smileclinic: {
        name: 'SMILE CLINIC GROUP',
        logo: 'ğŸ©º',
        desc: 'å¾®ç¬‘ç‰™ç§‘è¿é”æœºæ„'
    },
    orthodontics: {
        name: 'ORTHODONTICS PLUS',
        logo: 'âš•ï¸',
        desc: 'æ­£ç•¸ä¸“ç§‘åŒ»ç–—æœºæ„'
    }
};

// å½“å‰é€‰ä¸­çš„æœºæ„
let currentCompany = 'premium';

// åˆ‡æ¢æœºæ„é€‰æ‹©å™¨æ˜¾ç¤º/éšè—
function toggleCompanySelector() {
    const selector = document.getElementById('company-selector');
    const overlay = document.getElementById('overlay');
    const companyInfo = document.querySelector('.company-info');
    
    if (selector.classList.contains('show')) {
        closeCompanySelector();
    } else {
        selector.classList.add('show');
        overlay.classList.add('show');
        companyInfo.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

// å…³é—­æœºæ„é€‰æ‹©å™¨
function closeCompanySelector() {
    const selector = document.getElementById('company-selector');
    const overlay = document.getElementById('overlay');
    const companyInfo = document.querySelector('.company-info');
    
    selector.classList.remove('show');
    overlay.classList.remove('show');
    companyInfo.classList.remove('active');
    document.body.style.overflow = '';
}

// é€‰æ‹©æœºæ„
function selectCompany(companyId) {
    if (companyId === currentCompany) {
        closeCompanySelector();
        return;
    }

    const company = companies[companyId];
    if (!company) return;

    // æ›´æ–°å½“å‰æœºæ„
    currentCompany = companyId;
    
    // æ›´æ–°å¤´éƒ¨æ˜¾ç¤º
    document.getElementById('current-company').textContent = company.name;
    document.querySelector('.company-logo').textContent = company.logo;
    
    // æ›´æ–°é€‰ä¸­çŠ¶æ€
    document.querySelectorAll('.company-item').forEach(item => {
        item.classList.remove('active');
    });
    document.querySelector(`[data-company="${companyId}"]`).classList.add('active');
    
    // æ˜¾ç¤ºåˆ‡æ¢æç¤º
    showCompanyChangeNotification(company);
    
    // å…³é—­é€‰æ‹©å™¨
    setTimeout(() => {
        closeCompanySelector();
    }, 300);
}

// æ˜¾ç¤ºæœºæ„åˆ‡æ¢é€šçŸ¥
function showCompanyChangeNotification(company) {
    // åˆ›å»ºé€šçŸ¥å…ƒç´ 
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 100px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(33, 150, 243, 0.95);
        color: white;
        padding: 12px 24px;
        border-radius: 25px;
        font-size: 14px;
        font-weight: 500;
        z-index: 3000;
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(33, 150, 243, 0.3);
        opacity: 0;
        transition: all 0.3s;
    `;
    notification.textContent = `å·²åˆ‡æ¢åˆ° ${company.name}`;
    
    document.body.appendChild(notification);
    
    // æ˜¾ç¤ºåŠ¨ç”»
    setTimeout(() => {
        notification.style.opacity = '1';
        notification.style.transform = 'translateX(-50%) translateY(10px)';
    }, 100);
    
    // è‡ªåŠ¨éšè—
    setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translateX(-50%) translateY(-10px)';
        setTimeout(() => {
            document.body.removeChild(notification);
        }, 300);
    }, 2000);
}

// åˆå§‹åŒ–å¤´éƒ¨ç»„ä»¶
document.addEventListener('DOMContentLoaded', function() {
    // æ·»åŠ å…³é—­æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    document.addEventListener('click', function(e) {
        if (e.target.matches('.selector-header::after')) {
            closeCompanySelector();
        }
    });

    // é˜»æ­¢é€‰æ‹©å™¨å†…éƒ¨ç‚¹å‡»äº‹ä»¶å†’æ³¡
    document.addEventListener('click', function(e) {
        if (e.target.closest('.company-selector') && !e.target.matches('.selector-header::after')) {
            e.stopPropagation();
        }
    });
});
</script>